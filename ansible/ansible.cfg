# ===================================
# Configuration Ansible
# Paramètres globaux pour le projet
# ===================================

[defaults]
# Fichier d'inventaire par défaut
# Permet de ne pas avoir à spécifier -i inventory.ini à chaque commande
inventory = inventory.ini

# Désactive la vérification de la clé SSH lors de la première connexion
# Pratique pour les tests, mais à activer en production
host_key_checking = False

# Niveau de verbosité des logs (0 = minimal, 4 = très détaillé)
# 0 : uniquement les erreurs et résultats
# 1 : affiche les tâches en cours
# 2-4 : de plus en plus de détails pour le debug
verbosity = 0

# Timeout pour les connexions SSH (en secondes)
timeout = 30

# Nombre de connexions parallèles (utile pour plusieurs serveurs)
forks = 5

# Interpréter Python (sur les serveurs cibles)
# Ubuntu 20.04 utilise Python 3 par défaut
interpreter_python = auto_silent

# Afficher les diffs lors des modifications de fichiers
# Utile pour voir ce qui change
diff_always = True

# Désactiver les avertissements de dépréciation (optionnel)
deprecation_warnings = False

# Format d'affichage des résultats
stdout_callback = yaml

[privilege_escalation]
# Configuration pour sudo (escalade de privilèges)
# become = True signifie qu'on utilisera sudo
# become_method = sudo est la méthode par défaut
# become_user = root est l'utilisateur cible
# Ces paramètres peuvent être surchargés dans les playbooks
become = False
become_method = sudo
become_user = root
become_ask_pass = False

[ssh_connection]
# Désactive le pipelining SSH pour éviter des problèmes avec sudo
# (peut être activé pour améliorer les performances)
pipelining = False

# Timeout pour les connexions SSH
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no
